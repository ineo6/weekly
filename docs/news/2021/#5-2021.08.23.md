# æ¹–ä¸­å‰‘ å‰ç«¯å‘¨åˆŠ #5 | 2021-08-23

å‘¨åˆŠæ”¶é›†åŒ…æ‹¬å‰ç«¯ï¼ˆä½†ä¸é™äºå‰ç«¯ï¼‰çš„æ–‡ç« ã€æ–°é—»ã€å¼€æºé¡¹ç›®ã€å·¥å…·ç­‰ç­‰ï¼Œæ¯å‘¨ä¸€æ›´æ–°ã€‚

## ğŸ“° News

### Next.js 11.1æ­£å¼å‘å¸ƒ

æœ¬æœˆ 12 å·ï¼ŒNext.js å®˜å®£ Next.js 11.1 ç‰ˆæœ¬æ­£å¼å‘å¸ƒã€‚æ­¤æ¬¡åŠ å…¥äº†ä¸€ç³»åˆ—æ–°ç‰¹æ€§å’Œæ€§èƒ½ä¼˜åŒ–ï¼š

- å®‰å…¨è¡¥ä¸ï¼šä¸€ä¸ªé˜²æ­¢æ½œåœ¨çš„å¼€æ”¾é‡å®šå‘çš„é‡è¦æ›´æ–°
- ES Module æ”¯æŒï¼šä»Šå¤©èƒ½å¤Ÿé€šè¿‡ experimental å­—æ®µå¼€å¯
- åŸºäº Rust çš„å·¥å…·ï¼šé›†æˆ SWC ä»¥å–ä»£ JavaScript å·¥å…·ï¼ˆBabel å’Œ Terserï¼‰
- æ›´å¿«çš„æ•°æ®è·å–ï¼šåœ¨é¢„æ¸²æŸ“æ—¶ä½¿ç”¨ HTTP keep-alive èƒ½åŠ›ä»¥æå‡ 2 å€çš„æ•°æ®è·å–é€Ÿåº¦
- æ›´å¿«çš„ Source Mapï¼šåœ¨ä½¿ç”¨ Source Map æ—¶æå‡ 70% çš„æ„å»ºé€Ÿåº¦å¹¶é™ä½ 67% çš„å†…å­˜å ç”¨

æ‰©å±•é˜…è¯»ï¼š

[https://mp.weixin.qq.com/s/dVa1CvCEOYdivoLfac25mw](https://mp.weixin.qq.com/s/dVa1CvCEOYdivoLfac25mw)

### React Native 0.65

#### å†…ç½®çš„Hermeså‡çº§åˆ° 0.8.1

å¸¦æ¥ä»¥ä¸‹æ”¹è¿›ï¼š

- æ”¯æŒES i18n API (Intl)
- æ”¯æŒ M1ä»¥åŠMac Catalystç³»ç»Ÿ
- æ›´å¿«é€Ÿçš„åƒåœ¾æ”¶é›†

è¿˜åŒ…å«æ— éšœç¢åŒ–åŠŸèƒ½çš„ä¿®å¤å’Œæ·»åŠ ã€‚

è¯¦æƒ…å¯ä»¥æµè§ˆï¼š

[https://reactnative.dev/blog/2021/08/17/version-065](https://reactnative.dev/blog/2021/08/17/version-065)

### Taro æ­£å¼å‘å¸ƒ 3.3 ç‰ˆæœ¬ï¼šæ”¯æŒä½¿ç”¨ H5 æ ‡ç­¾ä¸æ¡†æ¶ DevTools

æ­¤æ¬¡ Taro 3.3 æœ€é‡è¦çš„ç‰¹æ€§å°±æ˜¯æ”¯æŒä½¿ç”¨ H5 æ ‡ç­¾è¿›è¡Œå¼€å‘ï¼Œè®©å¼€å‘è€…åœ¨å°ç¨‹åºç¯å¢ƒä¸­å¤ç”¨éƒ¨åˆ†çš„ Web ç”Ÿæ€ã€‚

[https://docs.taro.zone/blog/2021-08-13-Taro-3.3](https://docs.taro.zone/blog/2021-08-13-Taro-3.3)

### Chromium å°†æ”¯æŒå¼•å…¥CSSæ ·å¼æ–‡ä»¶

```js
import sheet from './styles.css' assert { type: 'css' };
document.adoptedStyleSheets = [sheet];
shadowRoot.adoptedStyleSheets = [sheet];
```

å¦‚æœæƒ³äº†è§£æ›´å¤šç»†èŠ‚å¯ä»¥é˜…è¯»ä¸‹é¢æ–‡ç« ï¼š

[https://web.dev/css-module-scripts/](https://web.dev/css-module-scripts/)

### Stack Overflow å¼€å‘è€…å¹´åº¦è°ƒæŸ¥ä¸­æ–‡ç‰ˆ

æŠ€æœ¯äººæœ€çˆ± Rustï¼Œæœ€æ€• COBOLï¼Œå·¥ç¨‹ç»ç†æœ€é«˜è–ªï¼Œæ‡‚ Clojure æœ€èµšé’±ã€‚

[https://www.infoq.cn/article/0GNK4RtL5y45k1asErxb](https://www.infoq.cn/article/0GNK4RtL5y45k1asErxb)

###  å¾®è½¯å®˜æ–¹å‘å¸ƒé¦–ä¸ª Windows 11 ISO é•œåƒ

å¾®è½¯å·²ç»å¯¹ Windows 11 è¿›è¡Œäº†å‡ ä¸ªæœˆçš„æµ‹è¯•ï¼Œä»Šå¤©ç»ˆäºå‘å¸ƒäº†æœ€æ—©äºä¸Šå‘¨äº¤ä»˜çš„ Windows 11 Insider Preview Build 22000.132 çš„ ISO æ–‡ä»¶ã€‚æµ‹è¯•äººå‘˜ç°åœ¨å¯ä»¥ä¸‹è½½ Windows 11 çš„ ISO æ–‡ä»¶æ¥å®‰è£…æ–°çš„æ“ä½œç³»ç»Ÿï¼Œé•œåƒæ–‡ä»¶ç›®å‰å·²ç»é€šè¿‡ä¸‹è½½é¡µé¢æä¾›ç»™ Windows Insidersã€‚

ç°åœ¨å¯ä»¥è·å¾— Windows 11 Build 22000.132 çš„ ISO æ–‡ä»¶ï¼ŒWindow Insider ç°åœ¨å¯ä»¥é€šè¿‡ ISO æ–‡ä»¶æ¸…æ´å®‰è£…æœ€æ–°çš„æ“ä½œç³»ç»Ÿã€‚

è‹¥æƒ³ä¸‹è½½ Windows 11 ISOï¼Œä½ éœ€è¦å…ˆæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤åŠ å…¥ Windows Insider è®¡åˆ’ï¼š

[https://insider.windows.com/](https://insider.windows.com/)

å¦‚æœä½ çš„æœºå™¨ç¬¦åˆç³»ç»Ÿè¦æ±‚ï¼Œä»ä¸‹æ–¹åœ°å€ä¸‹è½½ ISO æ–‡ä»¶å³å¯ï¼š

[https://www.microsoft.com/en-us/software-download/windowsinsiderpreviewiso](https://www.microsoft.com/en-us/software-download/windowsinsiderpreviewiso)

## ğŸ“– æ–‡ç« 

### yarn.lock ä½ é”æ˜ç™½äº†å—ï¼Ÿ

[https://mp.weixin.qq.com/s/25UnynJa6Ej8NjyGYpgUUg](https://mp.weixin.qq.com/s/25UnynJa6Ej8NjyGYpgUUg)

### diff ç®—æ³•æ·±å…¥ä¸€ä¸‹ï¼Ÿ

[https://mp.weixin.qq.com/s/Y6eD7RB74mE6ceEGMFBGug](https://mp.weixin.qq.com/s/Y6eD7RB74mE6ceEGMFBGug)

### 15å¼ å›¾ï¼Œ20åˆ†é’Ÿåƒé€Diffç®—æ³•æ ¸å¿ƒåŸç†ï¼Œæˆ‘è¯´çš„ï¼ï¼ï¼

[https://juejin.cn/post/6994959998283907102](https://juejin.cn/post/6994959998283907102)

### â­ï¸ 3Dæ€§èƒ½ä¼˜åŒ– | è¯´ä¸€è¯´glTFæ–‡ä»¶å‹ç¼©

![](https://gitee.com/ineo6/assets/raw/master/20210822213039.png)

[https://mp.weixin.qq.com/s/6ANznfxUovdy4qdKo16rpw](https://mp.weixin.qq.com/s/6ANznfxUovdy4qdKo16rpw)

### NodeJS æœåŠ¡ Docker é•œåƒæè‡´ä¼˜åŒ–æŒ‡åŒ—

![](https://gitee.com/ineo6/assets/raw/master/20210822212914.png)

[https://mp.weixin.qq.com/s/QfHHJnzD4vhenjFcFSNMhQ](https://mp.weixin.qq.com/s/QfHHJnzD4vhenjFcFSNMhQ)

### â­ï¸ æ·±å…¥ç†è§£ Node.js çš„ Inspector

[https://mp.weixin.qq.com/s/GLIlhURSrCYQ-8Bqg7i1kA](https://mp.weixin.qq.com/s/GLIlhURSrCYQ-8Bqg7i1kA)

### â­ï¸ ç”¨æ‰©æ•£æ¨¡å‹ç”Ÿæˆé«˜ä¿çœŸåº¦å›¾åƒ

å¦‚ä½•å°†ä¸€ä¸ªä½åˆ†è¾¨ç‡çš„å›¾åƒè½¬æ¢ä¸ºç»†èŠ‚ä¸°å¯Œçš„é«˜åˆ†è¾¨ç‡å›¾åƒï¼Ÿ

ç°åœ¨å¾ˆå¤šäººéƒ½èƒ½æƒ³åˆ°é€šè¿‡æœºå™¨å­¦ä¹ æ¥åšï¼Œä½†æ˜¯å“ªç§æ¨¡å‹ä¼šæœ‰å¥½çš„è¡¨ç°å‘¢ï¼Ÿ

è¿™ç¯‡æ–‡ç« ä»‹ç»çš„æ‰©æ•£æ¨¡å‹(Diffusion Model)å°†ä¼šç»™ä½ è§£æƒ‘ã€‚

[https://mp.weixin.qq.com/s/Y7knX5UQyG45vCgRRrvuSQ](https://mp.weixin.qq.com/s/Y7knX5UQyG45vCgRRrvuSQ)

### é‡æ„æŒ‡åŒ—â€”â€”ã€Šé‡æ„ï¼Œæ”¹å–„æ—¢æœ‰ä»£ç è®¾è®¡ã€‹ç²¾è¯»

[https://mp.weixin.qq.com/s/ciKbBI0EKsM_TqKiicAocQ](https://mp.weixin.qq.com/s/ciKbBI0EKsM_TqKiicAocQ)

### React 18 å¦‚ä½•æ”¯æŒ Strict Effects

[https://mp.weixin.qq.com/s/bcI2u_RjalNJ4xOilR7YOA](https://mp.weixin.qq.com/s/bcI2u_RjalNJ4xOilR7YOA)

### æµ…è°ˆå¼¹å¹•çš„è®¾è®¡

[https://mp.weixin.qq.com/s/SQXhslKJ06nPSypQnqIjkw](https://mp.weixin.qq.com/s/SQXhslKJ06nPSypQnqIjkw)

### 2021 GMTCåŒ—äº¬ç«™ - å°ç¨‹åºå¼€å‘å®è·µä¸“åœºæ‰€è§æ‰€æƒ³

[https://mp.weixin.qq.com/s/jWmOPd4WhebrG9BrMSBlCg](https://mp.weixin.qq.com/s/jWmOPd4WhebrG9BrMSBlCg)

### ç¾å›¢Appé¡µé¢è§†å›¾å¯æµ‹æ€§æ”¹é€ å®è·µ

[https://mp.weixin.qq.com/s/YcvFSs-97SpMKjlpj9Dzqg](https://mp.weixin.qq.com/s/YcvFSs-97SpMKjlpj9Dzqg)

### Webå‰ç«¯WebRTC æ”»ç•¥(äº”) NAT ç©¿è¶Šä¸ ICE

[https://mp.weixin.qq.com/s/yIC3pNvQp-YrLUD-pjz1iw](https://mp.weixin.qq.com/s/yIC3pNvQp-YrLUD-pjz1iw)

### â­ï¸ å¦‚ä½•ç©è½¬ WebGL å¹¶è¡Œè®¡ç®—

[https://mp.weixin.qq.com/s/_HdRg04fyWqyyoYdOM7WBA](https://mp.weixin.qq.com/s/_HdRg04fyWqyyoYdOM7WBA)

### ä¸€æ–‡å¸¦ä½ èµ°è¿› Rust å’Œ WebAssembly çš„ä¸–ç•Œ

[https://mp.weixin.qq.com/s/aV_f61mFzIKQBBDqQuPQAA](https://mp.weixin.qq.com/s/aV_f61mFzIKQBBDqQuPQAA)

### ç²¾è¯»ã€ŠWebpack5 æ–°ç‰¹æ€§ - æ¨¡å—è”é‚¦ã€‹

[https://zhuanlan.zhihu.com/p/115403616](https://zhuanlan.zhihu.com/p/115403616)

### å‰ç«¯é¢†åŸŸæ¨¡å‹ï¼Œé‡æ„å‰ç«¯ç ”å‘æ¨¡å¼

[https://zhuanlan.zhihu.com/p/269488323](https://zhuanlan.zhihu.com/p/269488323)

### åˆä¸€ä¸ªå‰ç«¯æ¡†æ¶ Solid ï¼Ÿæ€§èƒ½ç›´é€¼åŸç”Ÿ JS ï¼Ÿ

[https://mp.weixin.qq.com/s/9GV9_nenlrEC6NfWs57TRg](https://mp.weixin.qq.com/s/9GV9_nenlrEC6NfWs57TRg)

### è‡ªå·±åŠ¨æ‰‹ï¼Œåšä¸ªCPU

[https://mp.weixin.qq.com/s/3zM5ZtS2jMNX4OY1axgiEg](https://mp.weixin.qq.com/s/3zM5ZtS2jMNX4OY1axgiEg)

## ğŸ¦œ æŠ€å·§

### 'return await promise' vs 'return promise'

![](https://gitee.com/ineo6/assets/raw/master/20210822163846.png)

è¿™ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯ä»–ä»¬çš„åŒºåˆ«ä½ çŸ¥é“å—ï¼Ÿ

```js
async function func1() {
  const promise = asyncOperation();
  return await promise;
}

// vs

async function func2() {
  const promise = asyncOperation();
  return promise;
}
```

[https://dmitripavlutin.com/return-await-promise-javascript/](https://dmitripavlutin.com/return-await-promise-javascript/)

### æ€ä¹ˆåœ¨JSDocæ³¨é‡Šä¸­å®šä¹‰Typescriptæ¥å£

[https://goulet.dev/posts/how-to-write-ts-interfaces-in-jsdoc/](https://goulet.dev/posts/how-to-write-ts-interfaces-in-jsdoc/)

## ğŸ›  å·¥å…·ã€è½¯ä»¶

### React Page Scroller

æµç•…çš„é¡µé¢æ»šåŠ¨åº“ï¼Œä½¿ç”¨CSSåŠ¨ç”»å®ç°ã€‚

[https://github.com/VikLiegostaiev/react-page-scroller](https://github.com/VikLiegostaiev/react-page-scroller)

### react-native-safe-area-context

å¸®åŠ©ä½ å¤„ç†å®‰å…¨åŒºåŸŸï¼Œæ”¯æŒiOSã€å®‰å“ã€webã€‚

[https://github.com/th3rdwave/react-native-safe-area-context](https://github.com/th3rdwave/react-native-safe-area-context)

### react-image-pan-zoom-rotate

å¸¸ç”¨çš„å›¾ç‰‡æ§åˆ¶åŠŸèƒ½ï¼Œæ¯”å¦‚æ‹–æ‹½ã€æ”¾å¤§ç¼©å°ã€æ—‹è½¬ã€‚

![](https://cdn.jsdelivr.net/gh/ineo6/assets/20210822155416.gif)

[https://www.npmjs.com/package/react-image-pan-zoom-rotate](https://www.npmjs.com/package/react-image-pan-zoom-rotate)

### Marked

ä¸ºé€Ÿåº¦è€Œç”Ÿçš„markdownè§£æå’Œç¼–è¯‘åº“ã€‚

[https://github.com/markedjs/marked](https://github.com/markedjs/marked)

### wavesurfer.js

éŸ³é¢‘å£°æ³¢å¯è§†åŒ–åº“ï¼ŒåŸºäº Web Audio APIå’ŒHTML5 Canvaså®ç°ã€‚

![](https://gitee.com/ineo6/assets/raw/master/20210822172158.png)

[https://github.com/katspaugh/wavesurfer.js](https://github.com/katspaugh/wavesurfer.js)

### zxï¼šå¸®åŠ©ä½ æ›´æ–¹ä¾¿å†™Shellè„šæœ¬

æ›´ç¬¦åˆå‰ç«¯ç¼–ç¨‹æ€ç»´çš„Shellå†™æ³•ï¼Œç®€å•æ˜“ç”¨ï¼Œä¸éœ€è¦å¤„ç†å¤ªå¤šè°ƒç”¨ç»†èŠ‚ã€‚

```js
#!/usr/bin/env zx

await $`cat package.json | grep name`

let branch = await $`git branch --show-current`
await $`dep deploy --branch=${branch}`

await Promise.all([
  $`sleep 1; echo 1`,
  $`sleep 2; echo 2`,
  $`sleep 3; echo 3`,
])

let name = 'foo bar'
await $`mkdir /tmp/${name}`
```

[https://github.com/google/zx](https://github.com/google/zx)

### fishdraw

å¸®åŠ©ä½ ç”Ÿæˆå„å¼å„æ ·å¥‡æ€ªçš„é±¼ã€‚

![](https://gitee.com/ineo6/assets/raw/master/20210822173309.png)

[https://github.com/LingDong-/fishdraw](https://github.com/LingDong-/fishdraw)

### wp2vite ~ è®©webpacké¡¹ç›®æ”¯æŒvite

[https://juejin.cn/post/6997235570300682248/](https://juejin.cn/post/6997235570300682248/)

## å…³æ³¨æˆ‘ä»¬

æ¯æœŸå‘å¸ƒæ—¶å…¬ä¼—å·ï¼ˆæ¹–ä¸­å‰‘ï¼‰ä¼šæ¨é€æ¶ˆæ¯ï¼Œæ¬¢è¿å…³æ³¨ã€‚

![](https://cdn.jsdelivr.net/gh/ineo6/weekly/assets/qrcode_for_wechat.jpg)
